<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Settings | JAAT-AI</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/account.css">
    <!-- Google Material Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Particle Background -->
        <div id="particles-js" class="particles-container"></div>
        
        <!-- Star Background -->
        <div class="star-background">
            <div class="stars-container"></div>
        </div>
        
        <!-- Cosmic Glows -->
        <div class="cosmic-glow top-left"></div>
        <div class="cosmic-glow bottom-right"></div>
        
        <!-- Main Content -->
        <header class="main-header">
            <div class="header-container">
                <div class="logo">
                    <div class="logo-icon">
                        <div class="logo-hologram"></div>
                    </div>
                    <a href="index.php" class="logo-text">JAAT-AI</a>
                </div>
                
                <nav class="main-nav">
                    <ul class="nav-links">
                        <li><a href="index.php" class="nav-link">Home</a></li>
                        <li><a href="dashboard.php" class="nav-link">Dashboard</a></li>
                        <li><a href="chat.php" class="nav-link">Chat</a></li>
                        <li><a href="pricing.html" class="nav-link">Upgrade</a></li>
                    </ul>
                </nav>
                
                <div class="user-menu">
                    <div class="subscription-status">
                        <span class="status-badge free">Free Plan</span>
                    </div>
                    <div class="user-avatar" onclick="toggleUserDropdown()">
                        <img src="assets/images/avatar.svg" alt="User avatar" id="user-avatar">
                    </div>
                    <div class="user-dropdown">
                        <div class="user-dropdown-header">
                            <p class="user-name">John Doe</p>
                            <p class="user-email">johndoe@example.com</p>
                        </div>
                        <div class="user-dropdown-items">
                            <a href="account.html" class="user-dropdown-item active">
                                <span class="material-symbols-rounded">account_circle</span>
                                Account
                            </a>
                            <a href="dashboard.php" class="user-dropdown-item">
                                <span class="material-symbols-rounded">dashboard</span>
                                Dashboard
                            </a>
                            <a href="#" class="user-dropdown-item" data-action="logout">
                                <span class="material-symbols-rounded">logout</span>
                                Logout
                            </a>
                        </div>
                    </div>
                </div>
                
                <button class="mobile-menu-toggle">
                    <span class="material-symbols-rounded">menu</span>
                </button>
            </div>
        </header>
        
        <main class="account-main">
            <div class="account-container">
                <div class="account-header">
                    <h1 class="account-title">Account Settings</h1>
                    <p class="account-subtitle">Manage your profile and preferences</p>
                </div>
                
                <div class="account-tabs">
                    <button class="account-tab active" data-tab="profile">
                        <span class="material-symbols-rounded">person</span>
                        Profile
                    </button>
                    <button class="account-tab" data-tab="subscription">
                        <span class="material-symbols-rounded">workspace_premium</span>
                        Subscription
                    </button>
                    <button class="account-tab" data-tab="security">
                        <span class="material-symbols-rounded">shield</span>
                        Security
                    </button>
                    <button class="account-tab" data-tab="billing">
                        <span class="material-symbols-rounded">payment</span>
                        Billing
                    </button>
                    <button class="account-tab" data-tab="preferences">
                        <span class="material-symbols-rounded">settings</span>
                        Preferences
                    </button>
                </div>
                
                <div class="account-content">
                    <!-- Profile Tab -->
                    <div class="account-tab-content active" id="profile-tab">
                        <div class="account-section">
                            <h2 class="section-title">Profile Information</h2>
                            
                            <div class="profile-header">
                                <div class="profile-avatar">
                                    <img src="assets/images/avatar.svg" alt="User avatar">
                                    <button class="change-avatar-button">
                                        <span class="material-symbols-rounded">edit</span>
                                    </button>
                                </div>
                                
                                <div class="profile-info">
                                    <h3 class="profile-name">John Doe</h3>
                                    <p class="profile-email">johndoe@example.com</p>
                                    <p class="profile-member-since">Member since: January 2023</p>
                                </div>
                            </div>
                            
                            <form class="account-form" id="profile-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="first_name">First Name</label>
                                        <input type="text" id="first_name" name="first_name" value="John" required>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="last_name">Last Name</label>
                                        <input type="text" id="last_name" name="last_name" value="Doe" required>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="username">Username</label>
                                    <input type="text" id="username" name="username" value="johndoe" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="email">Email</label>
                                    <input type="email" id="email" name="email" value="johndoe@example.com" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="bio">Bio</label>
                                    <textarea id="bio" name="bio" rows="3" placeholder="Tell us about yourself"></textarea>
                                </div>
                                
                                <div class="form-actions">
                                    <button type="submit" class="holographic-button primary-button">
                                        Save Changes
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                    
                    <!-- Subscription Tab -->
                    <div class="account-tab-content" id="subscription-tab">
                        <div class="account-section">
                            <h2 class="section-title">Subscription</h2>
                            
                            <div class="subscription-info">
                                <div class="current-plan">
                                    <div class="plan-header">
                                        <div class="plan-icon">
                                            <span class="material-symbols-rounded">workspace_premium</span>
                                        </div>
                                        <div class="plan-details">
                                            <h3 class="plan-name">Free Plan</h3>
                                            <p class="plan-status">Active</p>
                                        </div>
                                    </div>
                                    
                                    <div class="plan-features">
                                        <ul>
                                            <li>100 messages per month</li>
                                            <li>Access to 3 AI modes</li>
                                            <li>Basic holographic interface</li>
                                            <li>Community support</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="plan-usage">
                                        <div class="usage-item">
                                            <div class="usage-header">
                                                <span class="usage-label">Messages Used</span>
                                                <span class="usage-count">45 / 100</span>
                                            </div>
                                            <div class="usage-progress">
                                                <div class="usage-bar" style="width: 45%;"></div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="plan-actions">
                                        <a href="pricing.html" class="holographic-button primary-button">
                                            Upgrade Plan
                                        </a>
                                    </div>
                                </div>
                                
                                <div class="subscription-options">
                                    <h3>Available Plans</h3>
                                    
                                    <div class="plan-options">
                                        <div class="plan-option">
                                            <div class="plan-option-header">
                                                <h4>Basic</h4>
                                                <p class="plan-price">$4.99/month</p>
                                            </div>
                                            <ul class="plan-option-features">
                                                <li>1,000 messages per month</li>
                                                <li>Access to 5 AI modes</li>
                                                <li>Email support</li>
                                            </ul>
                                            <button class="holographic-button secondary-button plan-select" data-plan="basic-monthly" data-fsc-item-path-value="basic-monthly" data-fsc-action="Reset,Add,Checkout">
                                                Select
                                            </button>
                                        </div>
                                        
                                        <div class="plan-option featured">
                                            <div class="featured-label">Popular</div>
                                            <div class="plan-option-header">
                                                <h4>Pro</h4>
                                                <p class="plan-price">$9.99/month</p>
                                            </div>
                                            <ul class="plan-option-features">
                                                <li>Unlimited messages</li>
                                                <li>Access to 15 AI modes</li>
                                                <li>Priority support</li>
                                            </ul>
                                            <button class="holographic-button primary-button plan-select" data-plan="pro-monthly" data-fsc-item-path-value="pro-monthly" data-fsc-action="Reset,Add,Checkout">
                                                Select
                                            </button>
                                        </div>
                                        
                                        <div class="plan-option">
                                            <div class="plan-option-header">
                                                <h4>Ultimate</h4>
                                                <p class="plan-price">$19.99/month</p>
                                            </div>
                                            <ul class="plan-option-features">
                                                <li>Unlimited everything</li>
                                                <li>All AI modes</li>
                                                <li>2-hour support response</li>
                                            </ul>
                                            <button class="holographic-button secondary-button plan-select" data-plan="ultimate-monthly" data-fsc-item-path-value="ultimate-monthly" data-fsc-action="Reset,Add,Checkout">
                                                Select
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div class="plan-options-footer">
                                        <p>
                                            <a href="pricing.html">View plan details</a>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Security Tab -->
                    <div class="account-tab-content" id="security-tab">
                        <div class="account-section">
                            <h2 class="section-title">Security</h2>
                            
                            <div class="security-section">
                                <h3>Change Password</h3>
                                
                                <form class="account-form" id="password-form">
                                    <div class="form-group">
                                        <label for="current_password">Current Password</label>
                                        <input type="password" id="current_password" name="current_password" required>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="new_password">New Password</label>
                                        <input type="password" id="new_password" name="new_password" required>
                                        <div class="password-strength">
                                            <div class="strength-meter">
                                                <div class="strength-segment"></div>
                                                <div class="strength-segment"></div>
                                                <div class="strength-segment"></div>
                                                <div class="strength-segment"></div>
                                            </div>
                                            <div class="strength-text">Password strength</div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="confirm_password">Confirm New Password</label>
                                        <input type="password" id="confirm_password" name="confirm_password" required>
                                    </div>
                                    
                                    <div class="form-actions">
                                        <button type="submit" class="holographic-button primary-button">
                                            Update Password
                                        </button>
                                    </div>
                                </form>
                            </div>
                            
                            <div class="security-section">
                                <h3>Two-Factor Authentication</h3>
                                
                                <div class="security-option">
                                    <div class="security-option-info">
                                        <div class="security-option-icon">
                                            <span class="material-symbols-rounded">phone_android</span>
                                        </div>
                                        <div class="security-option-details">
                                            <h4>SMS Authentication</h4>
                                            <p>Receive a verification code via SMS when signing in</p>
                                        </div>
                                    </div>
                                    
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="sms-auth-toggle">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                
                                <div class="security-option">
                                    <div class="security-option-info">
                                        <div class="security-option-icon">
                                            <span class="material-symbols-rounded">qr_code_scanner</span>
                                        </div>
                                        <div class="security-option-details">
                                            <h4>Authenticator App</h4>
                                            <p>Use an authenticator app like Google Authenticator</p>
                                        </div>
                                    </div>
                                    
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="app-auth-toggle">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="security-section">
                                <h3>Connected Accounts</h3>
                                
                                <div class="connected-account">
                                    <div class="connected-account-info">
                                        <div class="connected-account-logo">
                                            <svg viewBox="0 0 24 24" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                                                <g transform="matrix(1, 0, 0, 1, 0, 0)">
                                                    <path d="M21.35,11.1H12v3.2h5.59c-0.27,1.4-1.1,2.57-2.32,3.37v2.79h3.76C20.7,18.57,22,15.9,22,12.66C22,12.12,21.9,11.6,21.76,11.1H21.35z" fill="#4285F4"></path>
                                                    <path d="M12,21.35c3.14,0,5.76-1.04,7.69-2.79l-3.76-2.79C14.96,16.52,13.59,17,12,17c-2.98,0-5.5-2.01-6.4-4.71H1.65v2.88C3.49,18.58,7.38,21.35,12,21.35z" fill="#34A853"></path>
                                                    <path d="M5.6,12.29C5.38,11.56,5.26,10.79,5.26,10c0-0.79,0.12-1.56,0.34-2.29V4.83H1.65C0.93,6.4,0.52,8.15,0.52,10c0,1.85,0.41,3.6,1.13,5.17L5.6,12.29z" fill="#FBBC05"></path>
                                                    <path d="M12,4.65c1.68,0,3.19,0.58,4.38,1.71l3.3-3.3C17.72,1.37,15.1,0.23,12,0.23C7.38,0.23,3.49,3,1.65,6.42l3.95,2.88C6.5,6.67,9.02,4.65,12,4.65z" fill="#EA4335"></path>
                                                </g>
                                            </svg>
                                        </div>
                                        <div class="connected-account-details">
                                            <h4>Google</h4>
                                            <p>Connected as johndoe@gmail.com</p>
                                        </div>
                                    </div>
                                    
                                    <button class="holographic-button secondary-button small">
                                        Disconnect
                                    </button>
                                </div>
                            </div>
                            
                            <div class="security-section">
                                <h3>Session Management</h3>
                                
                                <div class="session-list">
                                    <div class="session-item current">
                                        <div class="session-info">
                                            <div class="session-icon">
                                                <span class="material-symbols-rounded">computer</span>
                                            </div>
                                            <div class="session-details">
                                                <h4>Current Session</h4>
                                                <p>Windows · Chrome · Los Angeles, USA</p>
                                                <p class="session-time">Active now</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="session-item">
                                        <div class="session-info">
                                            <div class="session-icon">
                                                <span class="material-symbols-rounded">smartphone</span>
                                            </div>
                                            <div class="session-details">
                                                <h4>Mobile Device</h4>
                                                <p>iOS · Safari · Los Angeles, USA</p>
                                                <p class="session-time">Last active: Yesterday, 8:45 PM</p>
                                            </div>
                                        </div>
                                        
                                        <button class="session-logout">
                                            <span class="material-symbols-rounded">logout</span>
                                            Logout
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="security-actions">
                                    <button class="holographic-button danger-button">
                                        <span class="material-symbols-rounded">logout</span>
                                        Logout of All Sessions
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Billing Tab -->
                    <div class="account-tab-content" id="billing-tab">
                        <div class="account-section">
                            <h2 class="section-title">Billing</h2>
                            
                            <div class="billing-section">
                                <h3>Payment Methods</h3>
                                
                                <div class="payment-methods">
                                    <div class="payment-method">
                                        <div class="payment-method-info">
                                            <div class="payment-method-icon">
                                                <span class="material-symbols-rounded">credit_card</span>
                                            </div>
                                            <div class="payment-method-details">
                                                <h4>Visa ending in 4242</h4>
                                                <p>Expires 12/2025</p>
                                            </div>
                                        </div>
                                        
                                        <div class="payment-method-actions">
                                            <button class="holographic-button secondary-button small">
                                                Edit
                                            </button>
                                            <button class="holographic-button danger-button small">
                                                Remove
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <button class="add-payment-method">
                                        <span class="material-symbols-rounded">add</span>
                                        Add Payment Method
                                    </button>
                                </div>
                            </div>
                            
                            <div class="billing-section">
                                <h3>Billing Information</h3>
                                
                                <form class="account-form" id="billing-form">
                                    <div class="form-group">
                                        <label for="billing_name">Full Name</label>
                                        <input type="text" id="billing_name" name="billing_name" value="John Doe">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="billing_email">Email</label>
                                        <input type="email" id="billing_email" name="billing_email" value="johndoe@example.com">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="billing_address">Address</label>
                                        <input type="text" id="billing_address" name="billing_address" placeholder="Enter your address">
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="billing_city">City</label>
                                            <input type="text" id="billing_city" name="billing_city" placeholder="City">
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="billing_zip">ZIP Code</label>
                                            <input type="text" id="billing_zip" name="billing_zip" placeholder="ZIP Code">
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="billing_country">Country</label>
                                        <select id="billing_country" name="billing_country">
                                            <option value="US">United States</option>
                                            <option value="CA">Canada</option>
                                            <option value="GB">United Kingdom</option>
                                            <option value="AU">Australia</option>
                                            <option value="IN">India</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-actions">
                                        <button type="submit" class="holographic-button primary-button">
                                            Save Billing Information
                                        </button>
                                    </div>
                                </form>
                            </div>
                            
                            <div class="billing-section">
                                <h3>Billing History</h3>
                                
                                <div class="billing-history">
                                    <div class="billing-empty">
                                        <div class="empty-icon">
                                            <span class="material-symbols-rounded">receipt_long</span>
                                        </div>
                                        <p>No billing history yet</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Preferences Tab -->
                    <div class="account-tab-content" id="preferences-tab">
                        <div class="account-section">
                            <h2 class="section-title">Preferences</h2>
                            
                            <div class="preferences-section">
                                <h3>Appearance</h3>
                                
                                <div class="preference-option">
                                    <div class="preference-label">Theme</div>
                                    <div class="preference-select">
                                        <select id="theme-select">
                                            <option value="dark">Dark</option>
                                            <option value="light">Light</option>
                                            <option value="system">System</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="preference-option">
                                    <div class="preference-label">Font Size</div>
                                    <div class="preference-select">
                                        <select id="font-size-select">
                                            <option value="small">Small</option>
                                            <option value="medium" selected>Medium</option>
                                            <option value="large">Large</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="preference-option">
                                    <div class="preference-label">Animation Effects</div>
                                    <div class="preference-toggle">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="animation-toggle" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="preferences-section">
                                <h3>Notifications</h3>
                                
                                <div class="preference-option">
                                    <div class="preference-label">Email Notifications</div>
                                    <div class="preference-toggle">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="email-notifications" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="preference-option">
                                    <div class="preference-label">New Features Announcements</div>
                                    <div class="preference-toggle">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="features-notifications" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="preference-option">
                                    <div class="preference-label">Subscription Reminders</div>
                                    <div class="preference-toggle">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="subscription-notifications" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="preference-option">
                                    <div class="preference-label">Marketing Emails</div>
                                    <div class="preference-toggle">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="marketing-emails">
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="preferences-section">
                                <h3>Privacy</h3>
                                
                                <div class="preference-option">
                                    <div class="preference-label">Share Usage Data</div>
                                    <div class="preference-toggle">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="usage-data" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="preference-info">
                                    <p>
                                        Sharing usage data helps us improve JAAT-AI. This data is anonymized and does not include your conversations.
                                    </p>
                                </div>
                                
                                <div class="preference-option">
                                    <div class="preference-label">Cookie Preferences</div>
                                    <button class="holographic-button secondary-button small">
                                        Manage Cookies
                                    </button>
                                </div>
                            </div>
                            
                            <div class="preferences-section danger-zone">
                                <h3>Account Management</h3>
                                
                                <div class="danger-option">
                                    <div class="danger-info">
                                        <h4>Delete Account</h4>
                                        <p>
                                            Permanently delete your account and all associated data. This action cannot be undone.
                                        </p>
                                    </div>
                                    
                                    <button class="holographic-button danger-button" id="delete-account-button">
                                        Delete Account
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer class="main-footer">
            <div class="footer-bottom">
                <p>&copy; 2023-<?php echo date('Y'); ?> JAAT-AI. All rights reserved. Created by Rohit Sangwan.</p>
            </div>
        </footer>
    </div>
    
    <!-- Confirm Modal -->
    <div class="modal-overlay" id="confirm-modal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title" id="confirm-title">Confirmation</h2>
                <button class="modal-close">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="modal-content">
                <p class="modal-message" id="confirm-message">Are you sure you want to proceed?</p>
            </div>
            <div class="modal-footer">
                <button id="cancel-button" class="holographic-button secondary-button">Cancel</button>
                <button id="confirm-button" class="holographic-button primary-button">Confirm</button>
            </div>
        </div>
    </div>
    
    <!-- Delete Account Modal -->
    <div class="modal-overlay" id="delete-account-modal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Delete Account</h2>
                <button class="modal-close">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="modal-content">
                <div class="delete-account-warning">
                    <span class="material-symbols-rounded">warning</span>
                    <p>This action is permanent and cannot be undone.</p>
                </div>
                
                <p class="modal-message">
                    Deleting your account will permanently remove all your data, including:
                </p>
                
                <ul class="delete-account-list">
                    <li>Profile information</li>
                    <li>Subscription and billing details</li>
                    <li>All conversation history</li>
                    <li>Saved preferences and settings</li>
                </ul>
                
                <div class="delete-account-confirmation">
                    <div class="form-group">
                        <label for="delete-password">Enter your password to confirm</label>
                        <input type="password" id="delete-password" placeholder="Password" required>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <div class="checkbox-with-label">
                            <input type="checkbox" id="delete-confirm" required>
                            <label for="delete-confirm">I understand that this action is permanent and cannot be undone</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="delete-cancel-button" class="holographic-button secondary-button">Cancel</button>
                <button id="delete-confirm-button" class="holographic-button danger-button" disabled>Delete Account</button>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="js/particles.min.js"></script>
    <script src="js/animations.js"></script>
    <script>
        // Tab switching
        const tabs = document.querySelectorAll('.account-tab');
        const tabContents = document.querySelectorAll('.account-tab-content');
        
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabName = tab.getAttribute('data-tab');
                
                // Update active tab
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Update active content
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === `${tabName}-tab`) {
                        content.classList.add('active');
                    }
                });
            });
        });
        
        // User dropdown toggle
        function toggleUserDropdown() {
            const dropdown = document.querySelector('.user-dropdown');
            dropdown.classList.toggle('active');
        }
        
        // Close user dropdown when clicking outside
        document.addEventListener('click', (e) => {
            const avatar = document.querySelector('.user-avatar');
            const dropdown = document.querySelector('.user-dropdown');
            
            if (dropdown && avatar && !avatar.contains(e.target) && !dropdown.contains(e.target)) {
                dropdown.classList.remove('active');
            }
        });
        
        // Password strength checker
        const passwordInput = document.getElementById('new_password');
        const strengthMeter = document.querySelector('.strength-meter');
        const strengthText = document.querySelector('.strength-text');
        
        if (passwordInput && strengthMeter && strengthText) {
            passwordInput.addEventListener('input', function() {
                const password = this.value;
                let strength = 0;
                
                if (password.length >= 8) strength++;
                if (password.match(/[a-z]/)) strength++;
                if (password.match(/[A-Z]/)) strength++;
                if (password.match(/[0-9]/)) strength++;
                if (password.match(/[^a-zA-Z0-9]/)) strength++;
                
                const segments = strengthMeter.querySelectorAll('.strength-segment');
                
                // Reset all segments
                segments.forEach(segment => {
                    segment.className = 'strength-segment';
                });
                
                // Color segments based on strength
                for (let i = 0; i < strength; i++) {
                    if (segments[i]) {
                        if (strength === 1) {
                            segments[i].classList.add('very-weak');
                        } else if (strength === 2) {
                            segments[i].classList.add('weak');
                        } else if (strength === 3) {
                            segments[i].classList.add('medium');
                        } else if (strength === 4) {
                            segments[i].classList.add('strong');
                        } else {
                            segments[i].classList.add('very-strong');
                        }
                    }
                }
                
                // Update strength text
                if (password.length === 0) {
                    strengthText.textContent = 'Password strength';
                } else if (strength < 2) {
                    strengthText.textContent = 'Very weak';
                } else if (strength < 3) {
                    strengthText.textContent = 'Weak';
                } else if (strength < 4) {
                    strengthText.textContent = 'Medium';
                } else if (strength < 5) {
                    strengthText.textContent = 'Strong';
                } else {
                    strengthText.textContent = 'Very strong';
                }
            });
        }
        
        // Delete account modal
        const deleteAccountButton = document.getElementById('delete-account-button');
        const deleteAccountModal = document.getElementById('delete-account-modal');
        const deleteConfirmButton = document.getElementById('delete-confirm-button');
        const deleteConfirmCheckbox = document.getElementById('delete-confirm');
        const deletePassword = document.getElementById('delete-password');
        
        if (deleteAccountButton && deleteAccountModal) {
            deleteAccountButton.addEventListener('click', () => {
                deleteAccountModal.classList.add('active');
            });
            
            const closeButtons = deleteAccountModal.querySelectorAll('.modal-close, #delete-cancel-button');
            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    deleteAccountModal.classList.remove('active');
                });
            });
            
            // Enable delete button only when checkbox is checked and password is entered
            if (deleteConfirmCheckbox && deletePassword && deleteConfirmButton) {
                function updateDeleteButton() {
                    if (deleteConfirmCheckbox.checked && deletePassword.value.length > 0) {
                        deleteConfirmButton.disabled = false;
                    } else {
                        deleteConfirmButton.disabled = true;
                    }
                }
                
                deleteConfirmCheckbox.addEventListener('change', updateDeleteButton);
                deletePassword.addEventListener('input', updateDeleteButton);
            }
        }
        
        // Form submissions
        const forms = document.querySelectorAll('form');
        forms.forEach(form => {
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                
                // Show confirmation message
                const confirmModal = document.getElementById('confirm-modal');
                const confirmTitle = document.getElementById('confirm-title');
                const confirmMessage = document.getElementById('confirm-message');
                const confirmButton = document.getElementById('confirm-button');
                const cancelButton = document.getElementById('cancel-button');
                
                if (confirmModal && confirmTitle && confirmMessage && confirmButton && cancelButton) {
                    confirmTitle.textContent = 'Changes Saved';
                    confirmMessage.textContent = 'Your changes have been saved successfully.';
                    
                    confirmButton.textContent = 'OK';
                    cancelButton.style.display = 'none';
                    
                    confirmButton.onclick = () => {
                        confirmModal.classList.remove('active');
                        cancelButton.style.display = 'block';
                    };
                    
                    confirmModal.classList.add('active');
                }
            });
        });
        
        // Modal close functionality
        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    overlay.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>